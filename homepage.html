<head>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <!-- This is what supports JSX compilation (and other transformations) -->
    <script src="https://unpkg.com/@babel/standalone@7.10.3/babel.min.js"></script>

    <!-- These are for React -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.development.js"></script>
    <link rel="stylesheet" href="homepage.css">
</head>

<body>
    <script type="text/babel" data-presets="react,stage-3">
        const { useEffect, useState } = React
        // Data
        /* const categories = [
             {
                 "name": "The Hotels",
                 "link": "https://museumofpoliticalcorruption.org/the-albany-room-the-hotels/",
                 "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/hotel-scaled.jpg"
             },
             {
                 "name": "The State Capitol",
                 "link": "https://museumofpoliticalcorruption.org/the-albany-room-the-state-capitol/",
                 "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/StateCapitol-scaled.jpeg"
             },
             {
                 "name": "The Walking Tour",
                 "link": "https://museumofpoliticalcorruption.org/the-albany-room-the-walking-tour/",
                 "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/walking-scaled.jpg"
             },
             {
                 "name": "The Newspapers",
                 "link": "https://museumofpoliticalcorruption.org/the-albany-room-the-hotels-2/",
                 "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/Argus.jpeg"
             },
             {
                 "name": "The Fight Against Corruption",
                 "link": "https://museumofpoliticalcorruption.org/the-albany-room-the-fight-against-corruption/",
                 "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/boxing-gloves-scaled.jpg"
             },
             {
                 "name": "The Machine",
                 "link": "https://museumofpoliticalcorruption.org/the-albany-room-the-machine/",
                 "image": "https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/machine-scaled.jpg"
             },
         ]
 */
        const Category = (props) => {
            const { name, link, image } = props
            return (
                <div className="card col-md-4 border-0 rounded-0">
                    <a href={link} className="category-link">
                        <img className="card-img-top img-fluid category-img" src={image} alt={name} />
                        <div class="card-img-overlay">
                            <h3 class="card-title text-center">{name}</h3>
                        </div>
                    </a>
                </div>
            )
        }

        const TheAlbanyRoomHomePage = () => {
            const [categories, setCategories] = useState([]);

            useEffect(() => {
                fetch("https://museumofpoliticalcorruption.org/wp-content/uploads/2023/10/categories.json")
                    .then(response => response.json())
                    .then(data => {
                        setCategories(data)
                    })
            }, [])


            const categoriesList = categories.map((category, index) => {
                const { name, link, image } = category
                return <Category name={name} link={link} image={image} />
            })
            return <><div className="row">{categoriesList}</div></>;
        };

        ReactDOM.render(<TheAlbanyRoomHomePage />, document.getElementById("root"));
    </script>

    <div id="root"></div>
</body>
